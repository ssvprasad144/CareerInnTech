{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}

<div class="auth-container">

  <div class="auth-card">

    <h2>Login</h2>
    <p class="auth-subtitle">
      Welcome back to CareerInnTech
    </p>

    {% if messages %}
      {% for message in messages %}
        <div class="auth-error">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <form method="POST">
      {% csrf_token %}

      <!-- USERNAME / EMAIL -->
      <input 
        type="text"
        name="username"
        placeholder="Username or Email"
        required
      >

      <!-- PASSWORD -->
      <div style="position:relative;">
        <input 
          type="password"
          name="password"
          id="password"
          placeholder="Password"
          required
        >

        <span 
          onclick="togglePassword()" 
          style="
            position:absolute;
            right:14px;
            top:14px;
            cursor:pointer;
            color:#94a3b8;
            font-size:18px;
          "
        >üëÅÔ∏è</span>
      </div>

      <!-- FORGOT PASSWORD -->
      <div style="text-align:right;margin-bottom:16px;">
        <a href="{% url 'forgot_password' %}" style="color:#38bdf8;font-size:14px;">
          Forgot password?
        </a>
      </div>

      <!-- LOGIN BUTTON -->
      <button type="submit" class="auth-btn">
        Login ‚Üí
      </button>

    </form>

    <div class="auth-divider">OR</div>

    <!-- GOOGLE -->
    <a href="/accounts/google/login/" class="auth-social google">
      Continue with Google
    </a>

    <p class="auth-text">
      Don‚Äôt have an account?
      <a href="{% url 'signup' %}">Create account</a>
    </p>

  </div>

</div>

<!-- JS -->
<script>
function togglePassword(){
  const field = document.getElementById("password");
  field.type = field.type === "password" ? "text" : "password";
}
</script>

{% endblock %}
