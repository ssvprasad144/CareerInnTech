{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}CareerInnTech{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Global CSS -->
    <link rel="stylesheet" href="{% static 'css/base.css' %}">

    <!-- Page-level CSS -->
    {% block extra_css %}{% endblock %}
</head>

<body>

<header class="main-header">
    <div class="header-left">
        <img id="logomain" src="{% static 'images/logomain.png' %}" alt="CareerInnTech Logo">

        <div class="logo">
            CareerInnTech
            <span>BTech • Hospitality • Careers</span>
        </div>
    </div>

    <nav class="header-nav compact">
        <a href="{% url 'dashboard' %}" class="nav-btn">Home</a>
        <a href="{% url 'about' %}" class="nav-btn">About</a>
        <a href="{% url 'contact' %}" class="nav-btn">Contact</a>
        <a href="{% url 'support' %}" class="nav-btn">Support</a>
    </nav>

    <div class="header-right">
        {% if user.is_authenticated %}
            <div class="profile-circle" onclick="toggleSidebar()">
                {{ user.username|first|upper }}
            </div>
            <a href="{% url 'logout' %}" class="logout-btn">Logout</a>
        {% else %}
            <a href="{% url 'login' %}" class="login-btn">Login</a>
        {% endif %}
    </div>
</header>

<div id="profileSidebar" class="profile-sidebar">
    <div class="sidebar-header">
        <h3>My Profile</h3>
        <span class="close-btn" onclick="toggleSidebar()">✕</span>
    </div>

    <div class="sidebar-body">
        <div class="profile-avatar">
            {{ user.username|first|upper }}
        </div>

        <p class="profile-name">{{ user.username }}</p>
        <p class="profile-email">{{ user.email }}</p>

        <div class="profile-details">
            <div class="detail-card">
                <span>Track</span>
                <strong>{{ user_profile.track|default:"Not selected" }}</strong>
            </div>
            <div class="detail-card">
                <span>Year</span>
                <strong>{{ user_profile.year|default:"Not selected" }}</strong>
            </div>
            <div class="detail-card">
                <span>Goal</span>
                <strong>{{ user_profile.goal|default:"Not selected" }}</strong>
            </div>
        </div>

        <hr>

        <a href="#" class="sidebar-link">Edit Profile</a>
        <a href="#" class="sidebar-link">My Subscription</a>
        <a href="#" class="sidebar-link">Help & Support</a>
    </div>
</div>

<main class="main-content">
    {% block content %}{% endblock %}
</main>

<script>
function toggleSidebar() {
    document.getElementById("profileSidebar").classList.toggle("open");
}
</script>

</body>
</html>
